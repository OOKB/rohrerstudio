<!doctype html>

<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Rohrer Studio | Master Suite Renovation</title>

    <link rel="stylesheet" href="../styles.css">

  </head>

  <body>

    <header class="clearfix">
      <h1><a href="index.html">Rohrer Studio</a></h1>
      <nav>
        <ul>
          <li><a href="../projects.html">Projects</a></li>
          <li><a href="../about.html">About</a></li>
          <li><a href="../contact.html">Contact</a></li>
          <li><a href="../updates.html">Updates</a></li>
        </ul>

        <button class="toggle">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </nav>
    </header>

    <main>

      <section id="detail-view" class="project">

        <article class="detail-info clearfix">

          <div class="templated">
             <!-- mustached -->
          </div>

        </article>

        <ul class="projects-nav clearfix">
          <li><button class="prev">Previous Project</button></li>
          <li><button class="next">Next Project</button></li>
        </ul>

      </section>

    </main>

    <footer>
      <p>©2015 Rohrer Studio | Architecture • Interiors</p>
    </footer>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.1.2/mustache.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.cycle2/20140415/jquery.cycle2.min.js"></script>
    <script src="http://malsup.github.io/jquery.cycle2.center.js"></script>
    <script src="http://malsup.github.io/min/jquery.cycle2.swipe.min.js"></script>
    <script src="http://malsup.github.io/ios6fix.js"></script>
    <script src="../hamburger-nav.js"></script>

    <script id="project-info" type="text/template">
    {{#private-residence-caplan}}

      <div id="homess">

        <div class="cycle-slideshow"
          data-cycle-fx="scrollHorz"
          data-cycle-timeout="4000"
          data-cycle-prev="#prev"
          data-cycle-next="#next"
          data-cycle-swipe="true"
          data-cycle-swipe-fx="scrollHorz"
          data-cycle-center-horz=true
          >

          {{#images}}
            <img src="http://{{cdn}}" height=550 width=auto />
          {{/images}}

          <div class="cycle-pager"></div>
        </div>

        <div class="center controls">
          <a href="#" class="cycle-prev" id="prev">&larr;</a>
          <a href="#" class="cycle-next" id="next">&rarr;</a>
        </div>

      </div>

      <h1>{{title}}</h1>

      <ul class="miscellany">
        <li>Date: {{year}}</li>
        <li>Location: {{city}}, {{state}}</li>
        <li>Area: {{area}} sq.ft</li>
        <li class="awards {{^awards}}hide{{/awards}}">
          <strong>Awards</strong>
          <ul class="sub">
            {{#awards}}
            <li>{{year}}: {{award}} / {{group}}</li>
            {{/awards}}
          </ul>
        </li>
        <li class="article {{^article}}hide {{/article}}">
          <strong>Articles</strong>
          <ul class="sub">
            {{#article}}
            <li><a href="{{url}}">{{date}}: {{publication}}</a></li>
            {{/article}}
          </ul>
        </li>
      </ul>

      <section class="content">
        {{{content}}}
      </section>
    {{/private-residence-caplan}}
    </script>

    <script>
    $(document).ready(function() {

      $.getJSON('http://rohrerstudio.ezle.io/index.json', function(data) {

        //mustache for images
        var template = $('#project-info').html();
        var info = Mustache.to_html(template, data.db.projects);
        $('.detail-info .templated').html(info);
        console.log('mustachified');

        //trigger SS
        $('.cycle-slideshow').cycle({
          "speed": 600,
          "manualSpeed": 100,
          "fx": "scrollHorz",
          "timeout": 4000,
          "prev": ".cycle-prev",
          "next": ".cycle-next",
          "swipe": true,
          "swipe-fx": "scrollHorz",
          "center-horz": true,
        });

      });

    });
    </script>

    <!-- built by Kristian Bjornard and Kai Curry — OOKB.co / CAPE.io — a “Create Anywhere, Publish Everywhere” powered project. -->

  </body>

</html>
